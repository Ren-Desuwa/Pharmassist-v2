<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PharmAssist - Physician Portal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="dark">
    <div id="debugModeIndicator" style="display:none;position:fixed;top:0;left:0;width:100%;background:#f59e0b;color:#222;text-align:center;padding:6px 0;z-index:2000;font-weight:bold;">
        DEBUG MODE ENABLED - API calls are simulated
    </div>
    <div class="container">
        <!-- Dashboard -->
        <div id="dashboard">
            <!-- Unified Responsive Header -->
            <header class="header">
                <div class="header-content">
                    <!-- Mobile menu button (visible on mobile) -->
                    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                        ‚ò∞
                    </button>
                    <div class="logo">
                        <div class="logo-icon">‚öï</div>
                        <div class="logo-text">PharmAssist</div>
                    </div>
                    <div class="user-info">
                        <!-- Notification button (icon only on mobile, text on desktop) -->
                        <button class="notification-btn" onclick="showPage('notifications')">
                            <span class="notification-icon" aria-label="Notifications">üîî</span>
                            <span class="notification-text">Notifications</span>
                            <span id="notificationBadge" class="notification-badge">3</span>
                        </button>
                        <span class="user-greeting">Dr. <span id="physicianName">Smith</span></span>
                        <button class="theme-toggle" onclick="toggleTheme()">üåì</button>
                        <button class="btn btn-secondary" onclick="logout()">Sign Out</button>
                    </div>
                </div>
            </header>

            <div class="dashboard-layout">
                <!-- Sidebar Navigation -->
                <nav class="sidebar" id="sidebar">
                    <div class="sidebar-header mobile-only">
                        <div class="user-profile">
                            <div class="user-avatar">üë®‚Äç‚öïÔ∏è</div>
                            <div class="user-details">
                                <div class="user-name">Dr. <span id="sidebarPhysicianName">Smith</span></div>
                                <div class="user-role">Licensed Physician</div>
                            </div>
                        </div>
                        <button class="sidebar-close" onclick="toggleMobileMenu()">‚úï</button>
                    </div>
                    
                    <ul class="nav-menu">
                        <li class="nav-item">
                            <a href="#" class="nav-link active" onclick="showPage('prescriptionOrder')">
                                <span class="nav-icon">üíä</span> 
                                <span class="nav-text">New Prescription</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showPage('activePrescriptions')">
                                <span class="nav-icon">üìã</span> 
                                <span class="nav-text">Active Orders</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showPage('notifications')">
                                <span class="nav-icon">üîî</span> 
                                <span class="nav-text">Notifications</span>
                                <span id="sidebarNotificationBadge" class="notification-badge">3</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showPage('prescriptionHistory')">
                                <span class="nav-icon">üìö</span> 
                                <span class="nav-text">Prescription History</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showPage('physicianProfile')">
                                <span class="nav-icon">üë§</span> 
                                <span class="nav-text">Physician Profile</span>
                            </a>
                        </li>
                    </ul>

                    <div class="sidebar-footer mobile-only">
                        <button class="btn btn-secondary btn-full" onclick="logout()">Sign Out</button>
                    </div>
                </nav>

                <!-- Mobile Overlay -->
                <div class="mobile-overlay" id="mobileOverlay" onclick="toggleMobileMenu()"></div>

                <!-- Main Content Area -->
                <main class="main-content">
                    <!-- New Prescription Page -->
                    <div id="prescriptionOrder" class="page">
                        <div class="page-header">
                            <h1 class="page-title">New Prescription Order</h1>
                            <p class="page-subtitle">Submit pharmaceutical requisition to hospital pharmacy</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Prescription Details</h3>
                                <p class="card-subtitle">All fields marked with * are mandatory</p>
                            </div>
                            <form id="prescriptionForm">
                                <!-- Patient Information -->
                                <div class="form-section">
                                    <h4 class="section-title">Patient Information</h4>
                                    <div class="form-row">
                                        <div class="form-col">
                                            <label class="form-label" for="patientName">Patient Full Name *</label>
                                            <input type="text" id="patientName" class="form-input" placeholder="Enter patient's full name" autocomplete="off" required>
                                            <div id="patientName-autocomplete" class="autocomplete-list"></div>
                                        </div>
                                        <div class="form-col">
                                            <label class="form-label" for="patientMRN">Medical Record Number *</label>
                                            <input type="text" id="patientMRN" class="form-input" placeholder="MRN-XXXXXXXXX" autocomplete="off" required>
                                            <div id="patientMRN-autocomplete" class="autocomplete-list"></div>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-col">
                                            <label class="form-label" for="patientWard">Ward/Department</label>
                                            <select id="patientWard" class="form-input" required>
                                                <option value="">Select Ward</option>
                                                <option value="emergency">Emergency Department</option>
                                                <option value="icu">Intensive Care Unit</option>
                                                <option value="cardiology">Cardiology</option>
                                                <option value="surgery">General Surgery</option>
                                                <option value="pediatrics">Pediatrics</option>
                                                <option value="internal">Internal Medicine</option>
                                                <option value="outpatient">Outpatient Clinic</option>
                                            </select>
                                        </div>
                                        <div class="form-col">
                                            <label class="form-label" for="bedNumber">Bed Number</label>
                                            <input type="text" id="bedNumber" class="form-input" placeholder="e.g., ICU-12, Ward-A-25">
                                        </div>
                                    </div>
                                </div>

                                <!-- Medication Information -->
                                <div class="form-section" id="medications-section">
                                    <h4 class="section-title">Medication Information</h4>
                                    <div id="medication-fields-container">
                                        <div class="form-section medication-fields">
                                            <div class="form-row">
                                                <div class="form-col">
                                                    <label class="form-label" for="medicationName">Medication Name *</label>
                                                    <select id="medicationName" name="medicationName" class="form-input" required>
                                                      <option value="">Select Medication</option>
                                                      <option value="Medicine 1">Medicine 1</option>
                                                      <option value="Medicine 2">Medicine 2</option>
                                                      <option value="Medicine 3">Medicine 3</option>
                                                      <option value="Medicine 4">Medicine 4</option>
                                                      <option value="Medicine 5">Medicine 5</option>
                                                      <option value="Medicine 6">Medicine 6</option>
                                                      <option value="Medicine 7">Medicine 7</option>
                                                      <option value="Medicine 8">Medicine 8</option>
                                                      <option value="Medicine 9">Medicine 9</option>
                                                    </select>
                                                </div>
                                                <div class="form-col">
                                                    <label class="form-label" for="strength">Strength/Concentration *</label>
                                                    <select id="strength" name="strength" class="form-input" required>
                                                        <option value="">Select strength</option>
                                                        <option value="500mg">500mg</option>
                                                        <option value="250mg">250mg</option>
                                                        <option value="100mg">100mg</option>
                                                        <option value="10mg">10mg</option>
                                                        <option value="5mg">5mg</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-row">
                                                <div class="form-col">
                                                    <label class="form-label" for="dosageForm">Dosage Form *</label>
                                                    <select id="dosageForm" name="dosageForm" class="form-input" required>
                                                        <option value="">Select form</option>
                                                        <option value="tablet">Tablet</option>
                                                        <option value="capsule">Capsule</option>
                                                    </select>
                                                </div>
                                                <div class="form-col">
                                                    <label class="form-label" for="frequency">Dosing Frequency *</label>
                                                    <select id="frequency" name="frequency" class="form-input" required>
                                                        <option value="">Select frequency</option>
                                                        <option value="once">Once daily (QD)</option>
                                                        <option value="bid">Twice daily (BID)</option>
                                                        <option value="tid">Three times daily (TID)</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" id="addMedicationBtn" class="btn btn-secondary" style="margin-top: 1rem;">Add Medication</button>

                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">Submit Prescription Order</button>
                                    <button type="reset" class="btn btn-secondary">Clear Form</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Active Prescriptions Page -->
                    <div id="activePrescriptions" class="page hidden">
                        <div class="page-header">
                            <h1 class="page-title">Active Prescription Orders</h1>
                            <p class="page-subtitle">Monitor pending and in-progress pharmaceutical requests</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Current Orders Status</h3>
                            </div>
                            <div id="activeOrdersList">
                                <!-- Active orders will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Notifications Page -->
                    <div id="notifications" class="page hidden">
                        <div class="page-header">
                            <h1 class="page-title">Pharmacy Notifications</h1>
                            <p class="page-subtitle">Medication availability alerts and pharmacy updates</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Recent Notifications</h3>
                                <button class="btn btn-sm btn-secondary" onclick="markAllAsRead()">Mark All as Read</button>
                            </div>
                            <div id="notificationsList">
                                <!-- Notifications will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Prescription History Page -->
                    <div id="prescriptionHistory" class="page hidden">
                        <div class="page-header">
                            <h1 class="page-title">Prescription History</h1>
                            <p class="page-subtitle">Completed pharmaceutical orders and dispensing records</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Completed Orders</h3>
                                <div class="card-actions">
                                    <input type="date" id="historyDateFilter" class="form-input compact" onchange="filterHistory()">
                                    <select id="historyStatusFilter" class="form-input compact" onchange="filterHistory()">
                                        <option value="">All Status</option>
                                        <option value="dispensed">Dispensed</option>
                                        <option value="partially-dispensed">Partially Dispensed</option>
                                        <option value="cancelled">Cancelled</option>
                                    </select>
                                </div>
                            </div>
                            <div id="historyOrdersList">
                                <!-- History orders will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Physician Profile Page -->
                    <div id="physicianProfile" class="page hidden">
                        <div class="page-header">
                            <h1 class="page-title">Physician Profile</h1>
                            <p class="page-subtitle">Medical credentials and system access information</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Medical Credentials</h3>
                            </div>
                            <form>
                                <div class="form-row">
                                    <div class="form-col">
                                        <label class="form-label">Full Name</label>
                                        <input type="text" class="form-input" value="Dr. John Michael Smith" readonly>
                                    </div>
                                    <div class="form-col">
                                        <label class="form-label">Medical License Number</label>
                                        <input type="text" class="form-input" value="MD-123456789" readonly>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <label class="form-label">DEA Number</label>
                                        <input type="text" class="form-input" value="BS1234567" readonly>
                                    </div>
                                    <div class="form-col">
                                        <label class="form-label">NPI Number</label>
                                        <input type="text" class="form-input" value="1234567890" readonly>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <label class="form-label">Primary Specialty</label>
                                        <input type="text" class="form-input" value="Internal Medicine" readonly>
                                    </div>
                                    <div class="form-col">
                                        <label class="form-label">Hospital Affiliation</label>
                                        <input type="text" class="form-input" value="Metropolitan General Hospital" readonly>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col">
                                        <label class="form-label">Email Address</label>
                                        <input type="email" class="form-input" value="j.smith@metrogen.hospital.com" readonly>
                                    </div>
                                    <div class="form-col">
                                        <label class="form-label">Department</label>
                                        <input type="text" class="form-input" value="Internal Medicine Department" readonly>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Show debug indicator if debugMode is set
        if (window.debugMode) {
            document.getElementById('debugModeIndicator').style.display = 'block';
        }
    </script>
</body>
</html>